# 간단 경비보고 위험거래 분류 실습 (200행 데이터)

이 문서는 수강생들이 Colab + ChatGPT를 이용해 직접 실습할 수 있도록 설계된 **10단계 학습 시나리오**와 각 단계별 **예시 프롬프트**를 정리한 것이다.

---

## 1단계: 데이터 업로드 및 미리보기
**목표**: CSV를 Colab에 업로드하고 첫 5~10행을 확인  
**프롬프트 예시**  
Colab에서 simple_te_expenses_200.csv 파일을 업로드하는 코드를 작성해줘.  
업로드 후 Pandas로 불러오고, 데이터 크기와 처음 10행을 출력해줘.  

---

## 2단계: 데이터 구조와 기본 통계 이해
**목표**: 각 열의 의미와 값의 분포 파악  
**프롬프트 예시**  
이 데이터프레임의 컬럼별 데이터 타입과 결측치를 확인하는 코드를 작성해줘.  
또한, 각 변수별 기본 통계량과 라벨 비율(0/1)을 계산해줘.  

---

## 3단계: 탐색적 데이터 분석(EDA)
**목표**: 위험거래와 정상거래의 차이를 시각적으로 비교  
**프롬프트 예시**  
라벨별로 금액 평균과 표준편차를 비교하는 코드와,  
경비유형별 라벨 분포를 막대그래프로 나타내는 코드를 작성해줘.  
한글이 깨지지 않도록 Colab에서 나눔고딕 폰트를 설치하는 코드도 포함해줘.  

---

## 4단계: 범주형 변수 인코딩
**목표**: 경비유형(문자형)을 머신러닝이 처리할 수 있도록 원-핫 인코딩  
**프롬프트 예시**  
'경비유형' 컬럼을 OneHotEncoder로 변환하고,  
변환된 결과를 원래 데이터프레임과 합치는 코드를 작성해줘.  
다른 컬럼들은 그대로 두고, 라벨은 제외해줘.  

---

## 5단계: 학습 데이터와 테스트 데이터 분리
**목표**: 학습용/평가용 데이터셋 생성  
**프롬프트 예시**  
전체 데이터를 학습용(70%)과 테스트용(30%)으로 분리하는 코드를 작성해줘.  
라벨 컬럼은 y로, 나머지는 X로 설정해줘.  

---

## 6단계: 모델 학습 (로지스틱 회귀)
**목표**: class_weight='balanced'로 불균형 데이터 보정  
**프롬프트 예시**  
scikit-learn의 LogisticRegression을 사용해 모델을 학습하는 코드를 작성해줘.  
class_weight='balanced' 옵션을 적용하고, 학습이 끝나면 계수와 각 변수명을 함께 출력해줘.  

---

## 7단계: 모델 평가 (정확도, 정밀도, 재현율, F1)
**목표**: 기본 평가 지표와 혼동행렬 확인  
**프롬프트 예시**  
학습한 모델로 테스트 데이터 예측을 수행하고,  
정확도, 정밀도, 재현율, F1 점수를 출력해줘.  
또한, 혼동행렬을 시각화(히트맵)해줘.  

---

## 8단계: 임계값 조정 실험
**목표**: 컷오프 변경에 따른 성능 변화 확인  
**프롬프트 예시**  
모델의 예측 확률을 기반으로 임계값을 0.3, 0.5, 0.7로 설정했을 때  
각각의 정밀도, 재현율, F1 점수를 비교하는 코드를 작성해줘.  
결과를 표 형태로 출력해줘.  

---

## 9단계: 중요한 변수 확인
**목표**: 어떤 변수가 위험 판정에 크게 기여했는지 확인  
**프롬프트 예시**  
로지스틱 회귀 계수를 내림차순으로 정렬해,  
가장 영향력이 큰 변수 상위 5개를 출력하는 코드를 작성해줘.  
양수 계수는 위험 확률을 높이고, 음수 계수는 낮추는 의미로 해석할 수 있도록 설명도 포함해줘.  

---

## 10단계: 본인 데이터로 재실습
**목표**: 구조만 동일한 새 데이터 생성 및 적용  
**프롬프트 예시**  
simple_te_expenses_200.csv와 동일한 구조로 새로운 가상 데이터 50행을 생성하는 코드를 작성해줘.  
이 데이터를 이용해 같은 전처리, 학습, 평가 과정을 실행해 결과를 비교해줘.  
